(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{496:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"ğŸ‘‹-react-é¢˜ç›®æ•´ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‘‹-react-é¢˜ç›®æ•´ç†"}},[t._v("#")]),t._v(" ğŸ‘‹ React é¢˜ç›®æ•´ç†")]),t._v(" "),s("h3",{attrs:{id:"_1-react-ä¸­-usememo-usecallback-useeffect-ä¸‰è€…åŒºåˆ«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-react-ä¸­-usememo-usecallback-useeffect-ä¸‰è€…åŒºåˆ«"}},[t._v("#")]),t._v(" 1. React ä¸­, useMemo/ useCallback / useEffect ä¸‰è€…åŒºåˆ«")]),t._v(" "),s("p",[s("code",[t._v("useMemo")]),t._v(", "),s("code",[t._v("useCallback")]),t._v(", å’Œ "),s("code",[t._v("useEffect")]),t._v(" éƒ½æ˜¯ "),s("strong",[t._v("React")]),t._v(" ä¸­çš„é’©å­å‡½æ•°ï¼Œç”¨äºå¤„ç†ä¸åŒæ–¹é¢çš„é€»è¾‘ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬çš„ç”¨é€”å’Œè§¦å‘æ—¶æœºï¼š")]),t._v(" "),s("h4",{attrs:{id:"useeffect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#useeffect"}},[t._v("#")]),t._v(" useEffectï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("useEffect ç”¨äºå¤„ç†å‰¯ä½œç”¨ï¼Œä¾‹å¦‚æ•°æ®è·å–ã€è®¢é˜…ã€æ‰‹åŠ¨ DOM æ“ä½œç­‰ã€‚å®ƒæ¨¡æ‹Ÿäº†ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå¯ä»¥åœ¨ç»„ä»¶æ¸²æŸ“åæ‰§è¡Œç‰¹å®šçš„æ“ä½œã€‚")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("ğŸ‘€useEffect æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒåŒ…å«è¦æ‰§è¡Œçš„å‰¯ä½œç”¨é€»è¾‘ï¼›")]),t._v(" "),s("p",[t._v("ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªä¾èµ–æ•°ç»„ï¼Œç”¨äºæŒ‡å®šä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥é‡æ–°è¿è¡Œè¯¥å‰¯ä½œç”¨é€»è¾‘ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœä¾èµ–æ•°ç»„ä¸ºç©ºï¼Œå‰¯ä½œç”¨å°†åœ¨æ¯æ¬¡æ¸²æŸ“åéƒ½è¿è¡Œï¼›å¦‚æœæ²¡æœ‰æä¾›ä¾èµ–æ•°ç»„ï¼Œå‰¯ä½œç”¨å°†åªåœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“åè¿è¡Œã€‚")])]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰§è¡Œå‰¯ä½œç”¨é€»è¾‘")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dependency"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    userStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUserInfo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("userStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"usecallback"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usecallback"}},[t._v("#")]),t._v(" useCallbackï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("useCallback ç”¨äº"),s("strong",[t._v("ç¼“å­˜å›è°ƒå‡½æ•°")]),t._v("ï¼Œé€šå¸¸ç”¨äºå°†å›è°ƒå‡½æ•°ä¼ é€’ç»™å­ç»„ä»¶ï¼Œä»¥ç¡®ä¿å­ç»„ä»¶ä¸ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½é‡æ–°åˆ›å»ºç›¸åŒçš„å‡½æ•°ã€‚")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("ğŸ‘€ useCallback æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªä¾èµ–æ•°ç»„ã€‚\nå½“ä¾èµ–æ•°ç»„ä¸­çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°åˆ›å»ºå›è°ƒå‡½æ•°ã€‚è¿™ä¸ªç¼“å­˜çš„å›è°ƒå‡½æ•°å¯ä»¥ç”¨ä½œ props ä¼ é€’ç»™å­ç»„ä»¶ã€‚")])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" memoizedCallback "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useCallback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomethingWith")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"usememo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usememo"}},[t._v("#")]),t._v(" useMemoï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("useMemo ç”¨äºåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­è®¡ç®—å¹¶ç¼“å­˜è®¡ç®—ç»“æœã€‚å®ƒå¯ä»¥å¸®åŠ©ä½ é¿å…ä¸å¿…è¦çš„é‡å¤è®¡ç®—ï¼Œç‰¹åˆ«æ˜¯åœ¨ç»„ä»¶æ¸²æŸ“æ—¶ä¾èµ–æŸäº›å€¼çš„è®¡ç®—è¾ƒä¸ºæ˜‚è´µæ—¶ã€‚")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("ğŸ‘€ useMemo æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè®¡ç®—ç»“æœï¼›\nç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªä¾èµ–æ•°ç»„ï¼Œåªæœ‰åœ¨ä¾èµ–æ•°ç»„ä¸­çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ç»“æœã€‚è¿™ä¸ªç»“æœä¼šåœ¨ç»„ä»¶æ¸²æŸ“è¿‡ç¨‹ä¸­è¢«ç¼“å­˜ï¼Œå¹¶åœ¨éœ€è¦æ—¶è¿”å›ã€‚")])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" memoizedValue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useMemo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("computeExpensiveValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),s("p",[s("code",[t._v("useMemo")]),t._v(" ç”¨äºç¼“å­˜è®¡ç®—ç»“æœã€‚\n"),s("code",[t._v("useCallback")]),t._v(" ç”¨äºç¼“å­˜å›è°ƒå‡½æ•°ã€‚\n"),s("code",[t._v("useEffect")]),t._v(" ç”¨äºå¤„ç†å‰¯ä½œç”¨ã€‚")]),t._v(" "),s("p",[t._v("è¿™äº›é’©å­å‡½æ•°çš„é€‰æ‹©å–å†³äºä½ çš„å…·ä½“éœ€æ±‚å’Œæ€§èƒ½ä¼˜åŒ–è¦æ±‚ã€‚ä½¿ç”¨å®ƒä»¬å¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°ç®¡ç†ç»„ä»¶çš„çŠ¶æ€å’Œå‰¯ä½œç”¨ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"_2-react-ç”Ÿå‘½å‘¨æœŸ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-react-ç”Ÿå‘½å‘¨æœŸ"}},[t._v("#")]),t._v(" 2. React ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç±»ç»„ä»¶")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LifecycleDemo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Component is mounted.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Component updated. Previous count: '")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" prevState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentWillUnmount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Component will unmount.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" LifecycleDemo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‡½æ•°å¼ ç»„ä»¶")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›¸å½“äºcomponentDidMountå’ŒcomponentDidUpdate")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("FunctionalComponentDemo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›¸å½“äºcomponentDidMountå’ŒcomponentDidUpdate")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Component is mounted or updated. Current count: '")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿”å›ä¸€ä¸ªæ¸…ç†å‡½æ•°ï¼Œç›¸å½“äºcomponentWillUnmount")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Component will unmount.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"_3-react-æ¸²æŸ“é¡ºåº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-react-æ¸²æŸ“é¡ºåº"}},[t._v("#")]),t._v(" 3. react æ¸²æŸ“é¡ºåº")]),t._v(" "),s("h4",{attrs:{id:"_3-1-åˆå§‹æ¸²æŸ“-initial-render"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-åˆå§‹æ¸²æŸ“-initial-render"}},[t._v("#")]),t._v(" 3.1 åˆå§‹æ¸²æŸ“ï¼ˆInitial Renderï¼‰")]),t._v(" "),s("blockquote",[s("p",[t._v("å½“ç»„ä»¶é¦–æ¬¡è¢«æŒ‚è½½åˆ°DOMæ—¶ï¼ŒReactä¼šæ‰§è¡Œæ„é€ å‡½æ•° "),s("code",[t._v("constructor")]),t._v(" å’Œ "),s("code",[t._v("render")]),t._v(" æ–¹æ³•ã€‚")])]),t._v(" "),s("blockquote",[s("p",[t._v("ç„¶åï¼Œ"),s("code",[t._v("componentDidMount")]),t._v(" æ–¹æ³•ä¼šåœ¨ç»„ä»¶æŒ‚è½½åç«‹å³è°ƒç”¨ã€‚")])]),t._v(" "),s("h4",{attrs:{id:"_3-2-çŠ¶æ€æˆ–å±æ€§æ›´æ–°å¯¼è‡´é‡æ–°æ¸²æŸ“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-çŠ¶æ€æˆ–å±æ€§æ›´æ–°å¯¼è‡´é‡æ–°æ¸²æŸ“"}},[t._v("#")]),t._v(" 3.2 çŠ¶æ€æˆ–å±æ€§æ›´æ–°å¯¼è‡´é‡æ–°æ¸²æŸ“")]),t._v(" "),s("p",[t._v("å½“ç»„ä»¶çš„çŠ¶æ€æˆ–å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒReactå°†å†æ¬¡è°ƒç”¨ "),s("code",[t._v("render")]),t._v(" æ–¹æ³•æ¥é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚\nå¦‚æœæœ‰å®šä¹‰çš„è¯ï¼Œ"),s("code",[t._v("componentDidUpdate")]),t._v(" æ–¹æ³•ä¼šåœ¨ç»„ä»¶æ›´æ–°åè¢«è°ƒç”¨ã€‚")]),t._v(" "),s("h4",{attrs:{id:"_3-3-å¼ºåˆ¶æ¸²æŸ“-forced-render"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-å¼ºåˆ¶æ¸²æŸ“-forced-render"}},[t._v("#")]),t._v(" 3.3 å¼ºåˆ¶æ¸²æŸ“ï¼ˆForced Renderï¼‰")]),t._v(" "),s("p",[t._v("ä½¿ç”¨ "),s("code",[t._v("this.setState()")]),t._v(" æ¥å¼ºåˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œ"),s("code",[t._v("componentDidUpdate")]),t._v(" æ–¹æ³•ä¹Ÿä¼šåœ¨å¼ºåˆ¶æ¸²æŸ“åè¢«è°ƒç”¨ã€‚")]),t._v(" "),s("h4",{attrs:{id:"_3-4-çˆ¶ç»„ä»¶çš„é‡æ–°æ¸²æŸ“-rerender-of-parent-component"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-çˆ¶ç»„ä»¶çš„é‡æ–°æ¸²æŸ“-rerender-of-parent-component"}},[t._v("#")]),t._v(" 3.4 çˆ¶ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼ˆRerender of Parent Componentï¼‰ï¼š")]),t._v(" "),s("p",[t._v("å¦‚æœä¸€ä¸ªçˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå®ƒçš„å­ç»„ä»¶ä¹Ÿå°†é‡æ–°æ¸²æŸ“ï¼Œå³ä½¿å­ç»„ä»¶çš„çŠ¶æ€å’Œå±æ€§æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœæœ‰å®šä¹‰çš„è¯ï¼Œå­ç»„ä»¶çš„ render æ–¹æ³•å’Œ componentDidUpdate æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨ã€‚")]),t._v(" "),s("h4",{attrs:{id:"_3-5-å¸è½½ç»„ä»¶-unmounting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-å¸è½½ç»„ä»¶-unmounting"}},[t._v("#")]),t._v(" 3.5 å¸è½½ç»„ä»¶ï¼ˆUnmountingï¼‰ï¼š")]),t._v(" "),s("p",[t._v("å½“ç»„ä»¶ä»DOMä¸­å¸è½½æ—¶ï¼ŒReactä¼šè°ƒç”¨ "),s("code",[t._v("componentWillUnmount")]),t._v(" æ–¹æ³•ï¼Œä»¥è¿›è¡Œæ¸…ç†å’Œèµ„æºé‡Šæ”¾ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("$facet")])])}),[],!1,null,null,null);s.default=e.exports}}]);